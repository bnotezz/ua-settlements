# ua-settlements

## Про проєкт

**ua-settlements** — це проєкт, спрямований на створення єдиного, чистого та вичерпного JSON-файлу з інформацією про населені пункти України. Дані агрегуються з кількох офіційних та відкритих джерел, збагачуються та приводяться до єдиного формату.

## Мета

Основна мета — надати розробникам, аналітикам та дослідникам надійне джерело даних про адміністративно-територіальний устрій України, яке легко інтегрувати у власні проєкти.

## Джерела даних

1.  **КАТОТТГ (Кодифікатор)**: Основне джерело для назв, категорій та ієрархічної структури.
2.  **Порівняльна таблиця КОАТУУ до КАТОТТГ**: Для збагачення даних застарілими ідентифікаторами КОАТУУ.
3.  **ua-name-places.csv**: Компіляція даних для прив'язки OSM ID та поштових індексів (https://github.com/gontsa/ua-osm-names-of-places).
4.  **OpenStreetMap (API Overpass)**: Для отримання географічних координат та супутніх даних з OpenStreetMap.
5.  **Wikidata (API SPARQL)**: Для пошуку та прив'язки відповідних ID-сутностей Wikidata.
6.  **Портал «Децентралізація»**: Для отримання додаткових даних про населені пункти.

### Що таке КАТОТТГ?

**КАТОТТГ** (Кодифікатор адміністративно-територіальних одиниць та територій територіальних громад) — це національний стандарт, що прийшов на заміну застарілому КОАТУУ в рамках реформи децентралізації в Україні.

Кодифікатор має ієрархічну структуру, де кожен рівень адміністративного поділу має свій унікальний код, що дозволяє легко відстежувати адміністративну приналежність. Рівні поділу:
*   **Перший рівень (Області):** Автономна Республіка Крим, області, міста з спеціальним статусом.
*   **Другий рівень (Райони):** Райони в областях та в АРК.
*   **Третій рівень (Громади):** Територіальні громади.
*   **Четвертий рівень (Населені пункти):** Міста, села, селища.
*   **Додатковий рівень:** Райони в містах.

## Структура даних

### Файл `settlements.json`

Кожен об'єкт у файлі `assets/data/settlements.json` представляє одну адміністративну одиницю (від області до села) і має наступну структуру:

| Поле | Тип | Опис |
| --- | --- | --- |
| `name` | `string` | Назва населеного пункту або адміністративної одиниці. |
| `category` | `string` | Категорія об'єкта (O, P, H, C, M, X, B). |
| `katotth_id` | `string` | Унікальний ідентифікатор згідно з КАТОТТГ. |
| `type` | `string` | Тип об'єкта українською мовою (село, місто, район тощо). |
| `parent_katotth` | `string` | `katotth_id` батьківської адміністративної одиниці. |
| `koatuu_id` | `string` | Застарілий ідентифікатор КОАТУУ для сумісності. |
| `osm_id` | `string` | Ідентифікатор об'єкта в OpenStreetMap. |
| `postal_code` | `string` | Поштовий індекс або індекси. |
| `location` | `array` | Географічні координати: `[довгота, широта]`. |
| `wikidata` | `string` | Ідентифікатор об'єкта в Wikidata. |
| `wikipedia` | `string` | Посилання на статтю в українській Вікіпедії. |
| `population` | `string` | Кількість населення. |
| `admin_level` | `string` | Рівень адміністративного поділу (1-5). |
| `oblast_id` | `string` | `katotth_id` області. |
| `oblast_name` | `string` | Назва області. |
| `district_id` | `string` | `katotth_id` району. |
| `district_name` | `string` | Назва району. |
| `hromada_id` | `string` | `katotth_id` громади. |
| `hromada_name` | `string` | Назва громади. |
| `old_name` | `string` | Попередня назва (якщо є). |

**Приклад об'єкта:**
```json
{
  "name": "Тесів",
  "category": "C",
  "katotth_id": "UA56060450500089822",
  "type": "село",
  "parent_katotth": "UA56060450000083945",
  "koatuu_id": "5624287601",
  "osm_id": "337520626",
  "postal_code": "35810",
  "location": [26.6396502, 50.5077089],
  "wikidata": "Q4456431"
}
```

### Картографічні файли 
У директорії assets/maps/ знаходяться GeoJSON файли, які містять геометрії (полігони) для адміністративних одиниць України. Вони ідеально підходять для візуалізації даних на картах.
* ukraine_oblasti.geojson: Межі областей України.
* districts.geojson: Межі районів України.
* communities.geojson: Межі територіальних громад України.

Кожен полігон у цих файлах має властивості, що включають katotth_id, що дозволяє легко поєднувати їх з даними з settlements.json.